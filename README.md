# Documentation

## Technology Stack

Frontend:

- [React](https://react.dev/) ( set up with [Vite](https://vitejs.dev/) in Typescript )
- [React Router Dom](https://reactrouter.com/) v6
- [Tanstack Query](https://tanstack.com/query)

Backend:

- [Express](https://expressjs.com/) with [Mongoose](https://mongoosejs.com/) ORM using Typescript
- [Mongo](https://www.mongodb.com/) DB as database
- Dependencies [nodemailer](https://www.nodemailer.com/), [dotenv](https://www.npmjs.com/package/dotenv)

# Development Setup

**Frontend Setup**:

Environment Variables:

```
VITE_API_URL=<SERVER_URL>
```

Run Development Server:

```
npm run dev
```

**Backend Setup**:

Environment Variables:

```
DB_URI=<MONGO_DB_URI>
CORS_ORIGIN=<CORS_ORIGIN URLS SEPARATED BY SPACE>
MAIL_EMAIL=<NODEMAILER SENDER EMAIL>
MAIL_PASS=<16 LETTERS APP PASSWORD GENERATED BY GOOGLE IF GMAIL USED>
```

Run Development Server

```
npm run dev
```

# Production Setup

The hostinger Ubuntu server needs to be accessed via SSH. The source files are stored in the folder `~/pkg/tora/`  in the server. The Frontend as well as backend uses nginx with the config files at `/etc/nginx/` . The backend is run using pm2 and the frontend is served by building.

To build and restart frontend server:

```
npm run build
systemctl restart nginx
```

To build and restart backend server:

```
npm run dev
// this builds the server and also runs the dev server. ^C to exit dev server
pm2 restart tora_server
systemctl restart nginx
```